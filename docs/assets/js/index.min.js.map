{"version":3,"file":"index.min.js","sources":["../../../src/js/utils/constants.js","../../../src/js/utils/helpers.js","../../../src/js/utils/date-utils.js","data.js","demoConfig.js","index.js"],"sourcesContent":["export const ALL_CHART_TYPES = ['line', 'scatter', 'bar', 'percentage', 'heatmap', 'pie'];\r\n\r\nexport const COMPATIBLE_CHARTS = {\r\n\tbar: ['line', 'scatter', 'percentage', 'pie'],\r\n\tline: ['scatter', 'bar', 'percentage', 'pie'],\r\n\tpie: ['line', 'scatter', 'percentage', 'bar'],\r\n\tpercentage: ['bar', 'line', 'scatter', 'pie'],\r\n\theatmap: []\r\n};\r\n\r\nexport const DATA_COLOR_DIVISIONS = {\r\n\tbar: 'datasets',\r\n\tline: 'datasets',\r\n\tpie: 'labels',\r\n\tpercentage: 'labels',\r\n\theatmap: HEATMAP_DISTRIBUTION_SIZE\r\n};\r\n\r\nexport const BASE_MEASURES = {\r\n\tmargins: {\r\n\t\ttop: 10,\r\n\t\tbottom: 10,\r\n\t\tleft: 20,\r\n\t\tright: 20\r\n\t},\r\n\tpaddings: {\r\n\t\ttop: 20,\r\n\t\tbottom: 40,\r\n\t\tleft: 30,\r\n\t\tright: 10\r\n\t},\r\n\r\n\tbaseHeight: 240,\r\n\ttitleHeight: 20,\r\n\tlegendHeight: 30,\r\n\r\n\ttitleFontSize: 12,\r\n};\r\n\r\nexport function getTopOffset(m) {\r\n\treturn m.titleHeight + m.margins.top + m.paddings.top;\r\n}\r\n\r\nexport function getLeftOffset(m) {\r\n\treturn m.margins.left + m.paddings.left;\r\n}\r\n\r\nexport function getExtraHeight(m) {\r\n\tlet totalExtraHeight = m.margins.top + m.margins.bottom\r\n\t\t+ m.paddings.top + m.paddings.bottom\r\n\t\t+ m.titleHeight + m.legendHeight;\r\n\treturn totalExtraHeight;\r\n}\r\n\r\nexport function getExtraWidth(m) {\r\n\tlet totalExtraWidth = m.margins.left + m.margins.right\r\n\t\t+ m.paddings.left + m.paddings.right;\r\n\r\n\treturn totalExtraWidth;\r\n}\r\n\r\nexport const INIT_CHART_UPDATE_TIMEOUT = 700;\r\nexport const CHART_POST_ANIMATE_TIMEOUT = 400;\r\n\r\nexport const DEFAULT_AXIS_CHART_TYPE = 'line';\r\nexport const AXIS_DATASET_CHART_TYPES = ['line', 'bar'];\r\n\r\nexport const AXIS_LEGEND_BAR_SIZE = 100;\r\n\r\nexport const BAR_CHART_SPACE_RATIO = 0.5;\r\nexport const MIN_BAR_PERCENT_HEIGHT = 0.00;\r\n\r\nexport const LINE_CHART_DOT_SIZE = 4;\r\nexport const DOT_OVERLAY_SIZE_INCR = 4;\r\n\r\nexport const PERCENTAGE_BAR_DEFAULT_HEIGHT = 20;\r\nexport const PERCENTAGE_BAR_DEFAULT_DEPTH = 2;\r\n\r\n// Fixed 5-color theme,\r\n// More colors are difficult to parse visually\r\nexport const HEATMAP_DISTRIBUTION_SIZE = 5;\r\n\r\nexport const HEATMAP_SQUARE_SIZE = 10;\r\nexport const HEATMAP_GUTTER_SIZE = 2;\r\n\r\nexport const DEFAULT_CHAR_WIDTH = 7;\r\n\r\nexport const TOOLTIP_POINTER_TRIANGLE_HEIGHT = 5;\r\n\r\nconst DEFAULT_CHART_COLORS = ['light-blue', 'blue', 'violet', 'red', 'orange',\r\n\t'yellow', 'green', 'light-green', 'purple', 'magenta', 'light-grey', 'dark-grey'];\r\nconst HEATMAP_COLORS_GREEN = ['#ebedf0', '#c6e48b', '#7bc96f', '#239a3b', '#196127'];\r\nexport const HEATMAP_COLORS_BLUE = ['#ebedf0', '#c0ddf9', '#73b3f3', '#3886e1', '#17459e'];\r\nexport const HEATMAP_COLORS_YELLOW = ['#ebedf0', '#fdf436', '#ffc700', '#ff9100', '#06001c'];\r\n\r\nexport const DEFAULT_COLORS = {\r\n\tbar: DEFAULT_CHART_COLORS,\r\n\tline: DEFAULT_CHART_COLORS,\r\n\tpie: DEFAULT_CHART_COLORS,\r\n\tpercentage: DEFAULT_CHART_COLORS,\r\n\theatmap: HEATMAP_COLORS_GREEN,\r\n\tdonut: DEFAULT_CHART_COLORS\r\n};\r\n\r\n// Universal constants\r\nexport const ANGLE_RATIO = Math.PI / 180;\r\nexport const FULL_ANGLE = 360;\r\n","import { ANGLE_RATIO } from './constants';\r\n\r\n/**\r\n * Returns the value of a number upto 2 decimal places.\r\n * @param {Number} d Any number\r\n */\r\nexport function floatTwo(d) {\r\n\treturn parseFloat(d.toFixed(2));\r\n}\r\n\r\n/**\r\n * Returns whether or not two given arrays are equal.\r\n * @param {Array} arr1 First array\r\n * @param {Array} arr2 Second array\r\n */\r\nexport function arraysEqual(arr1, arr2) {\r\n\tif (arr1.length !== arr2.length) return false;\r\n\tlet areEqual = true;\r\n\tarr1.map((d, i) => {\r\n\t\tif (arr2[i] !== d) areEqual = false;\r\n\t});\r\n\treturn areEqual;\r\n}\r\n\r\n/**\r\n * Shuffles array in place. ES6 version\r\n * @param {Array} array An array containing the items.\r\n */\r\nexport function shuffle(array) {\r\n\t// Awesomeness: https://bost.ocks.org/mike/shuffle/\r\n\t// https://stackoverflow.com/a/2450976/6495043\r\n\t// https://stackoverflow.com/questions/6274339/how-can-i-shuffle-an-array?noredirect=1&lq=1\r\n\r\n\tfor (let i = array.length - 1; i > 0; i--) {\r\n\t\tlet j = Math.floor(Math.random() * (i + 1));\r\n\t\t[array[i], array[j]] = [array[j], array[i]];\r\n\t}\r\n\r\n\treturn array;\r\n}\r\n\r\n/**\r\n * Fill an array with extra points\r\n * @param {Array} array Array\r\n * @param {Number} count number of filler elements\r\n * @param {Object} element element to fill with\r\n * @param {Boolean} start fill at start?\r\n */\r\nexport function fillArray(array, count, element, start = false) {\r\n\tif (!element) {\r\n\t\telement = start ? array[0] : array[array.length - 1];\r\n\t}\r\n\tlet fillerArray = new Array(Math.abs(count)).fill(element);\r\n\tarray = start ? fillerArray.concat(array) : array.concat(fillerArray);\r\n\treturn array;\r\n}\r\n\r\n/**\r\n * Returns pixel width of string.\r\n * @param {String} string\r\n * @param {Number} charWidth Width of single char in pixels\r\n */\r\nexport function getStringWidth(string, charWidth) {\r\n\treturn (string + \"\").length * charWidth;\r\n}\r\n\r\nexport function bindChange(obj, getFn, setFn) {\r\n\treturn new Proxy(obj, {\r\n\t\tset: function (target, prop, value) {\r\n\t\t\tsetFn();\r\n\t\t\treturn Reflect.set(target, prop, value);\r\n\t\t},\r\n\t\tget: function (target, prop) {\r\n\t\t\tgetFn();\r\n\t\t\treturn Reflect.get(target, prop);\r\n\t\t}\r\n\t});\r\n}\r\n\r\n// https://stackoverflow.com/a/29325222\r\nexport function getRandomBias(min, max, bias, influence) {\r\n\tconst range = max - min;\r\n\tconst biasValue = range * bias + min;\r\n\tvar rnd = Math.random() * range + min,\t\t// random in range\r\n\t\tmix = Math.random() * influence;\t\t// random mixer\r\n\treturn rnd * (1 - mix) + biasValue * mix;\t// mix full range and bias\r\n}\r\n\r\nexport function getPositionByAngle(angle, radius) {\r\n\treturn {\r\n\t\tx: Math.sin(angle * ANGLE_RATIO) * radius,\r\n\t\ty: Math.cos(angle * ANGLE_RATIO) * radius,\r\n\t};\r\n}\r\n\r\n/**\r\n * Check if a number is valid for svg attributes\r\n * @param {object} candidate Candidate to test\r\n * @param {Boolean} nonNegative flag to treat negative number as invalid\r\n */\r\nexport function isValidNumber(candidate, nonNegative = false) {\r\n\tif (Number.isNaN(candidate)) return false;\r\n\telse if (candidate === undefined) return false;\r\n\telse if (!Number.isFinite(candidate)) return false;\r\n\telse if (nonNegative && candidate < 0) return false;\r\n\telse return true;\r\n}\r\n\r\n/**\r\n * Round a number to the closes precision, max max precision 4\r\n * @param {Number} d Any Number\r\n */\r\nexport function round(d) {\r\n\t// https://floating-point-gui.de/\r\n\t// https://www.jacklmoore.com/notes/rounding-in-javascript/\r\n\treturn Number(Math.round(d + 'e4') + 'e-4');\r\n}\r\n\r\n/**\r\n * Creates a deep clone of an object\r\n * @param {Object} candidate Any Object\r\n */\r\nexport function deepClone(candidate) {\r\n\tlet cloned, value, key;\r\n\r\n\tif (candidate instanceof Date) {\r\n\t\treturn new Date(candidate.getTime());\r\n\t}\r\n\r\n\tif (typeof candidate !== \"object\" || candidate === null) {\r\n\t\treturn candidate;\r\n\t}\r\n\r\n\tcloned = Array.isArray(candidate) ? [] : {};\r\n\r\n\tfor (key in candidate) {\r\n\t\tvalue = candidate[key];\r\n\r\n\t\tcloned[key] = deepClone(value);\r\n\t}\r\n\r\n\treturn cloned;\r\n}","// Playing around with dates\r\n\r\nexport const NO_OF_YEAR_MONTHS = 12;\r\nexport const NO_OF_DAYS_IN_WEEK = 7;\r\nexport const DAYS_IN_YEAR = 375;\r\nexport const NO_OF_MILLIS = 1000;\r\nexport const SEC_IN_DAY = 86400;\r\n\r\nexport const MONTH_NAMES = [\"January\", \"February\", \"March\", \"April\", \"May\",\r\n\t\"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\nexport const MONTH_NAMES_SHORT = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\",\r\n\t\"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n\r\nexport const DAY_NAMES_SHORT = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\nexport const DAY_NAMES = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\",\r\n\t\"Thursday\", \"Friday\", \"Saturday\"];\r\n\r\n// https://stackoverflow.com/a/11252167/6495043\r\nfunction treatAsUtc(date) {\r\n\tlet result = new Date(date);\r\n\tresult.setMinutes(result.getMinutes() - result.getTimezoneOffset());\r\n\treturn result;\r\n}\r\n\r\nexport function toMidnightUTC(date) {\r\n\tlet result = new Date(date);\r\n\tresult.setUTCHours(0, result.getTimezoneOffset(), 0, 0);\r\n\treturn result;\r\n}\r\n\r\nexport function getYyyyMmDd(date) {\r\n\tlet dd = date.getDate();\r\n\tlet mm = date.getMonth() + 1; // getMonth() is zero-based\r\n\treturn [\r\n\t\tdate.getFullYear(),\r\n\t\t(mm>9 ? '' : '0') + mm,\r\n\t\t(dd>9 ? '' : '0') + dd\r\n\t].join('-');\r\n}\r\n\r\nexport function clone(date) {\r\n\treturn new Date(date.getTime());\r\n}\r\n\r\nexport function timestampSec(date) {\r\n\treturn date.getTime()/NO_OF_MILLIS;\r\n}\r\n\r\nexport function timestampToMidnight(timestamp, roundAhead = false) {\r\n\tlet midnightTs = Math.floor(timestamp - (timestamp % SEC_IN_DAY));\r\n\tif(roundAhead) {\r\n\t\treturn midnightTs + SEC_IN_DAY;\r\n\t}\r\n\treturn midnightTs;\r\n}\r\n\r\n// export function getMonthsBetween(startDate, endDate) {}\r\n\r\nexport function getWeeksBetween(startDate, endDate) {\r\n\tlet weekStartDate = setDayToSunday(startDate);\r\n\treturn Math.ceil(getDaysBetween(weekStartDate, endDate) / NO_OF_DAYS_IN_WEEK);\r\n}\r\n\r\nexport function getDaysBetween(startDate, endDate) {\r\n\tlet millisecondsPerDay = SEC_IN_DAY * NO_OF_MILLIS;\r\n\treturn (treatAsUtc(endDate) - treatAsUtc(startDate)) / millisecondsPerDay;\r\n}\r\n\r\nexport function areInSameMonth(startDate, endDate) {\r\n\treturn startDate.getMonth() === endDate.getMonth()\r\n\t\t&& startDate.getFullYear() === endDate.getFullYear();\r\n}\r\n\r\nexport function getMonthName(i, short=false) {\r\n\tlet monthName = MONTH_NAMES[i];\r\n\treturn short ? monthName.slice(0, 3) : monthName;\r\n}\r\n\r\nexport function getLastDateInMonth (month, year) {\r\n\treturn new Date(year, month + 1, 0); // 0: last day in previous month\r\n}\r\n\r\n// mutates\r\nexport function setDayToSunday(date) {\r\n\tlet newDate = clone(date);\r\n\tconst day = newDate.getDay();\r\n\tif(day !== 0) {\r\n\t\taddDays(newDate, (-1) * day);\r\n\t}\r\n\treturn newDate;\r\n}\r\n\r\n// mutates\r\nexport function addDays(date, numberOfDays) {\r\n\tdate.setDate(date.getDate() + numberOfDays);\r\n}\r\n","import { MONTH_NAMES_SHORT } from \"../../../src/js/utils/date-utils\";\r\n\r\n// Composite Chart\r\n// ================================================================================\r\nconst reportCountList = [\r\n\t152,\r\n\t222,\r\n\t199,\r\n\t287,\r\n\t534,\r\n\t709,\r\n\t1179,\r\n\t1256,\r\n\t1632,\r\n\t1856,\r\n\t1850,\r\n];\r\n\r\nexport const lineCompositeData = {\r\n\tlabels: [\r\n\t\t\"2007\",\r\n\t\t\"2008\",\r\n\t\t\"2009\",\r\n\t\t\"2010\",\r\n\t\t\"2011\",\r\n\t\t\"2012\",\r\n\t\t\"2013\",\r\n\t\t\"2014\",\r\n\t\t\"2015\",\r\n\t\t\"2016\",\r\n\t\t\"2017\",\r\n\t],\r\n\r\n\tyMarkers: [\r\n\t\t{\r\n\t\t\tlabel: \"Average 100 reports/month\",\r\n\t\t\tvalue: 1200,\r\n\t\t\toptions: { labelPos: \"left\" },\r\n\t\t},\r\n\t],\r\n\r\n\tdatasets: [\r\n\t\t{\r\n\t\t\tname: \"Events\",\r\n\t\t\tvalues: reportCountList,\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport const fireball_5_25 = [\r\n\t[4, 0, 3, 1, 1, 2, 1, 1, 1, 0, 1, 1],\r\n\t[2, 3, 3, 2, 1, 3, 0, 1, 2, 7, 10, 4],\r\n\t[5, 6, 2, 4, 0, 1, 4, 3, 0, 2, 0, 1],\r\n\t[0, 2, 6, 2, 1, 1, 2, 3, 6, 3, 7, 8],\r\n\t[6, 8, 7, 7, 4, 5, 6, 5, 22, 12, 10, 11],\r\n\t[7, 10, 11, 7, 3, 2, 7, 7, 11, 15, 22, 20],\r\n\t[13, 16, 21, 18, 19, 17, 12, 17, 31, 28, 25, 29],\r\n\t[24, 14, 21, 14, 11, 15, 19, 21, 41, 22, 32, 18],\r\n\t[31, 20, 30, 22, 14, 17, 21, 35, 27, 50, 117, 24],\r\n\t[32, 24, 21, 27, 11, 27, 43, 37, 44, 40, 48, 32],\r\n\t[31, 38, 36, 26, 23, 23, 25, 29, 26, 47, 61, 50],\r\n];\r\nexport const fireball_2_5 = [\r\n\t[22, 6, 6, 9, 7, 8, 6, 14, 19, 10, 8, 20],\r\n\t[11, 13, 12, 8, 9, 11, 9, 13, 10, 22, 40, 24],\r\n\t[20, 13, 13, 19, 13, 10, 14, 13, 20, 18, 5, 9],\r\n\t[7, 13, 16, 19, 12, 11, 21, 27, 27, 24, 33, 33],\r\n\t[38, 25, 28, 22, 31, 21, 35, 42, 37, 32, 46, 53],\r\n\t[50, 33, 36, 34, 35, 28, 27, 52, 58, 59, 75, 69],\r\n\t[54, 67, 67, 45, 66, 51, 38, 64, 90, 113, 116, 87],\r\n\t[84, 52, 56, 51, 55, 46, 50, 87, 114, 83, 152, 93],\r\n\t[73, 58, 59, 63, 56, 51, 83, 140, 103, 115, 265, 89],\r\n\t[106, 95, 94, 71, 77, 75, 99, 136, 129, 154, 168, 156],\r\n\t[81, 102, 95, 72, 58, 91, 89, 122, 124, 135, 183, 171],\r\n];\r\nexport const fireballOver25 = [\r\n\t// [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n\t[0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0],\r\n\t[0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0],\r\n\t[1, 1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0],\r\n\t[0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 2],\r\n\t[3, 2, 1, 3, 2, 0, 2, 2, 2, 3, 0, 1],\r\n\t[2, 3, 5, 2, 1, 3, 0, 2, 3, 5, 1, 4],\r\n\t[7, 4, 6, 1, 9, 2, 2, 2, 20, 9, 4, 9],\r\n\t[5, 6, 1, 2, 5, 4, 5, 5, 16, 9, 14, 9],\r\n\t[5, 4, 7, 5, 1, 5, 3, 3, 5, 7, 22, 2],\r\n\t[5, 13, 11, 6, 1, 7, 9, 8, 14, 17, 16, 3],\r\n\t[8, 9, 8, 6, 4, 8, 5, 6, 14, 11, 21, 12],\r\n];\r\n\r\nexport const barCompositeData = {\r\n\tlabels: MONTH_NAMES_SHORT,\r\n\tdatasets: [\r\n\t\t{\r\n\t\t\tname: \"Over 25 reports\",\r\n\t\t\tvalues: fireballOver25[9],\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"5 to 25 reports\",\r\n\t\t\tvalues: fireball_5_25[9],\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"2 to 5 reports\",\r\n\t\t\tvalues: fireball_2_5[9],\r\n\t\t},\r\n\t],\r\n};\r\n\r\n// Demo Chart multitype Chart\r\n// ================================================================================\r\nexport const typeData = {\r\n\tlabels: [\r\n\t\t\"12am-3am\",\r\n\t\t\"3am-6am\",\r\n\t\t\"6am-9am\",\r\n\t\t\"9am-12pm\",\r\n\t\t\"12pm-3pm\",\r\n\t\t\"3pm-6pm\",\r\n\t\t\"6pm-9pm\",\r\n\t\t\"9pm-12am\",\r\n\t],\r\n\r\n\tyMarkers: [\r\n\t\t{\r\n\t\t\tlabel: \"Marker\",\r\n\t\t\tvalue: 43,\r\n\t\t\toptions: { labelPos: \"left\" },\r\n\t\t\t// type: 'dashed'\r\n\t\t},\r\n\t],\r\n\r\n\tyRegions: [\r\n\t\t{\r\n\t\t\tlabel: \"Region\",\r\n\t\t\tstart: -10,\r\n\t\t\tend: 50,\r\n\t\t\toptions: { labelPos: \"right\" },\r\n\t\t},\r\n\t],\r\n\r\n\tdatasets: [\r\n\t\t{\r\n\t\t\tname: \"Some Data\",\r\n\t\t\tvalues: [18, 40, 30, 35, 8, 52, 17, -4],\r\n\t\t\taxisPosition: \"right\",\r\n\t\t\tchartType: \"bar\",\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Another Set\",\r\n\t\t\tvalues: [30, 50, -10, 15, 18, 32, 27, 14],\r\n\t\t\taxisPosition: \"right\",\r\n\t\t\tchartType: \"bar\",\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Yet Another\",\r\n\t\t\tvalues: [15, 20, -3, -15, 58, 12, -17, 37],\r\n\t\t\tchartType: \"line\",\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport const trendsData = {\r\n\tlabels: [\r\n\t\t1967,\r\n\t\t1968,\r\n\t\t1969,\r\n\t\t1970,\r\n\t\t1971,\r\n\t\t1972,\r\n\t\t1973,\r\n\t\t1974,\r\n\t\t1975,\r\n\t\t1976,\r\n\t\t1977,\r\n\t\t1978,\r\n\t\t1979,\r\n\t\t1980,\r\n\t\t1981,\r\n\t\t1982,\r\n\t\t1983,\r\n\t\t1984,\r\n\t\t1985,\r\n\t\t1986,\r\n\t\t1987,\r\n\t\t1988,\r\n\t\t1989,\r\n\t\t1990,\r\n\t\t1991,\r\n\t\t1992,\r\n\t\t1993,\r\n\t\t1994,\r\n\t\t1995,\r\n\t\t1996,\r\n\t\t1997,\r\n\t\t1998,\r\n\t\t1999,\r\n\t\t2000,\r\n\t\t2001,\r\n\t\t2002,\r\n\t\t2003,\r\n\t\t2004,\r\n\t\t2005,\r\n\t\t2006,\r\n\t\t2007,\r\n\t\t2008,\r\n\t\t2009,\r\n\t\t2010,\r\n\t\t2011,\r\n\t\t2012,\r\n\t\t2013,\r\n\t\t2014,\r\n\t\t2015,\r\n\t\t2016,\r\n\t],\r\n\tdatasets: [\r\n\t\t{\r\n\t\t\tvalues: [\r\n\t\t\t\t132.9,\r\n\t\t\t\t150.0,\r\n\t\t\t\t149.4,\r\n\t\t\t\t148.0,\r\n\t\t\t\t94.4,\r\n\t\t\t\t97.6,\r\n\t\t\t\t54.1,\r\n\t\t\t\t49.2,\r\n\t\t\t\t22.5,\r\n\t\t\t\t18.4,\r\n\t\t\t\t39.3,\r\n\t\t\t\t131.0,\r\n\t\t\t\t220.1,\r\n\t\t\t\t218.9,\r\n\t\t\t\t198.9,\r\n\t\t\t\t162.4,\r\n\t\t\t\t91.0,\r\n\t\t\t\t60.5,\r\n\t\t\t\t20.6,\r\n\t\t\t\t14.8,\r\n\t\t\t\t33.9,\r\n\t\t\t\t123.0,\r\n\t\t\t\t211.1,\r\n\t\t\t\t191.8,\r\n\t\t\t\t203.3,\r\n\t\t\t\t133.0,\r\n\t\t\t\t76.1,\r\n\t\t\t\t44.9,\r\n\t\t\t\t25.1,\r\n\t\t\t\t11.6,\r\n\t\t\t\t28.9,\r\n\t\t\t\t88.3,\r\n\t\t\t\t136.3,\r\n\t\t\t\t173.9,\r\n\t\t\t\t170.4,\r\n\t\t\t\t163.6,\r\n\t\t\t\t99.3,\r\n\t\t\t\t65.3,\r\n\t\t\t\t45.8,\r\n\t\t\t\t24.7,\r\n\t\t\t\t12.6,\r\n\t\t\t\t4.2,\r\n\t\t\t\t4.8,\r\n\t\t\t\t24.9,\r\n\t\t\t\t80.8,\r\n\t\t\t\t84.5,\r\n\t\t\t\t94.0,\r\n\t\t\t\t113.3,\r\n\t\t\t\t69.8,\r\n\t\t\t\t39.8,\r\n\t\t\t],\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport const moonData = {\r\n\tnames: [\"Ganymede\", \"Callisto\", \"Io\", \"Europa\"],\r\n\tmasses: [14819000, 10759000, 8931900, 4800000],\r\n\tdistances: [1070.412, 1882.709, 421.7, 671.034],\r\n\tdiameters: [5262.4, 4820.6, 3637.4, 3121.6],\r\n};\r\n","import { lineCompositeData, barCompositeData } from './data';\r\n\r\nexport default {\r\n\tlineComposite: {\r\n\t\telementID: \"#chart-composite-1\",\r\n\t\toptions: {\r\n\t\t\ttitle: \"Fireball/Bolide Events - Yearly (reported)\",\r\n\t\t\tdata: lineCompositeData,\r\n\t\t\ttype: \"line\",\r\n\t\t\theight: 190,\r\n\t\t\tcolors: [\"green\"],\r\n\t\t\tisNavigable: 1,\r\n\t\t\tvaluesOverPoints: 1,\r\n\r\n\t\t\tlineOptions: {\r\n\t\t\t\tdotSize: 8\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tbarComposite: {\r\n\t\telementID: \"#chart-composite-2\",\r\n\t\toptions: {\r\n\t\t\tdata: barCompositeData,\r\n\t\t\ttype: \"bar\",\r\n\t\t\theight: 210,\r\n\t\t\tcolors: [\"violet\", \"light-blue\", \"#46a9f9\"],\r\n\t\t\tvaluesOverPoints: 1,\r\n\t\t\taxisOptions: {\r\n\t\t\t\txAxisMode: \"tick\",\r\n\t\t\t\tshortenYAxisNumbers: true\r\n\t\t\t},\r\n\t\t\tbarOptions: {\r\n\t\t\t\tstacked: 1\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tdemoMain: {\r\n\t\telementID: \"\",\r\n\t\toptions: {\r\n\t\t\ttitle: \"My Awesome Chart\",\r\n\t\t\tdata: \"typeData\",\r\n\t\t\ttype: \"axis-mixed\",\r\n\t\t\theight: 300,\r\n\t\t\tcolors: [\"purple\", \"magenta\", \"light-blue\"],\r\n\t\t\tmaxSlices: 10,\r\n\r\n\t\t\ttooltipOptions: {\r\n\t\t\t\tformatTooltipX: d => (d + '').toUpperCase(),\r\n\t\t\t\tformatTooltipY: d => d + ' pts',\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};","import { shuffle, getRandomBias } from '../../../src/js/utils/helpers';\r\nimport { HEATMAP_COLORS_YELLOW, HEATMAP_COLORS_BLUE } from '../../../src/js/utils/constants';\r\nimport { SEC_IN_DAY, clone, timestampToMidnight, timestampSec, addDays } from '../../../src/js/utils/date-utils';\r\n/* eslint-disable no-unused-vars */\r\nimport { fireballOver25, fireball_2_5, fireball_5_25, lineCompositeData,\r\n\tbarCompositeData, typeData, trendsData, moonData } from './data';\r\n/* eslint-enable no-unused-vars */\r\nimport demoConfig from './demoConfig';\r\n// import { lineComposite, barComposite } from './demoConfig';\r\n// ================================================================================\r\n\r\nlet Chart = frappe.Chart; // eslint-disable-line no-undef\r\n\r\nlet lc = demoConfig.lineComposite;\r\nlet lineCompositeChart = new Chart (lc.elementID, lc.options);\r\n\r\nlet bc = demoConfig.barComposite;\r\nlet barCompositeChart = new Chart (bc.elementID, bc.options);\r\n\r\nlineCompositeChart.parent.addEventListener('data-select', (e) => {\r\n\tlet i = e.index;\r\n\tbarCompositeChart.updateDatasets([\r\n\t\tfireballOver25[i], fireball_5_25[i], fireball_2_5[i]\r\n\t]);\r\n});\r\n\r\n// ================================================================================\r\n\r\nlet customColors = ['purple', 'magenta', 'light-blue'];\r\nlet typeChartArgs = {\r\n\ttitle: \"My Awesome Chart\",\r\n\tdata: typeData,\r\n\ttype: 'axis-mixed',\r\n\theight: 300,\r\n\tcolors: customColors,\r\n\r\n\t// maxLegendPoints: 6,\r\n\tmaxSlices: 10,\r\n\r\n\ttooltipOptions: {\r\n\t\tformatTooltipX: d => (d + '').toUpperCase(),\r\n\t\tformatTooltipY: d => d + ' pts',\r\n\t}\r\n};\r\n\r\nlet aggrChart = new Chart(\"#chart-aggr\", typeChartArgs);\r\n\r\nArray.prototype.slice.call(\r\n\tdocument.querySelectorAll('.aggr-type-buttons button')\r\n).map(el => {\r\n\tel.addEventListener('click', (e) => {\r\n\t\tlet btn = e.target;\r\n\t\tlet type = btn.getAttribute('data-type');\r\n\t\ttypeChartArgs.type = type;\r\n\t\tif(type !== 'axis-mixed') {\r\n\t\t\ttypeChartArgs.colors = undefined;\r\n\t\t} else {\r\n\t\t\ttypeChartArgs.colors = customColors;\r\n\t\t}\r\n\r\n\t\tif(type !== 'percentage') {\r\n\t\t\ttypeChartArgs.height = 300;\r\n\t\t} else {\r\n\t\t\ttypeChartArgs.height = undefined;\r\n\t\t}\r\n\r\n\t\tlet newChart = new Chart(\"#chart-aggr\", typeChartArgs);\r\n\t\tif(newChart){\r\n\t\t\taggrChart = newChart;\r\n\t\t}\r\n\t\tArray.prototype.slice.call(\r\n\t\t\tbtn.parentNode.querySelectorAll('button')).map(el => {\r\n\t\t\tel.classList.remove('active');\r\n\t\t});\r\n\t\tbtn.classList.add('active');\r\n\t});\r\n});\r\n\r\ndocument.querySelector('.export-aggr').addEventListener('click', () => {\r\n\taggrChart.export();\r\n});\r\n\r\n// Update values chart\r\n// ================================================================================\r\nlet updateDataAllLabels = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\", \"Mon\", \"Tue\",\r\n\t\"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\",\r\n\t\"Sat\", \"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\", \"Mon\"];\r\n\r\nlet getRandom = () => Math.floor(getRandomBias(-40, 60, 0.8, 1));\r\nlet updateDataAllValues = Array.from({length: 30}, getRandom);\r\n\r\n// We're gonna be shuffling this\r\nlet updateDataAllIndices = updateDataAllLabels.map((d,i) => i);\r\n\r\nlet getUpdateData = (source_array, length=10) => {\r\n\tlet indices = updateDataAllIndices.slice(0, length);\r\n\treturn indices.map((index) => source_array[index]);\r\n};\r\n\r\nlet updateData = {\r\n\tlabels: getUpdateData(updateDataAllLabels),\r\n\tdatasets: [{\r\n\t\t\"values\": getUpdateData(updateDataAllValues)\r\n\t}],\r\n\tyMarkers: [\r\n\t\t{\r\n\t\t\tlabel: \"Altitude\",\r\n\t\t\tvalue: 25,\r\n\t\t\ttype: 'dashed'\r\n\t\t}\r\n\t],\r\n\tyRegions: [\r\n\t\t{\r\n\t\t\tlabel: \"Range\",\r\n\t\t\tstart: 10,\r\n\t\t\tend: 45\r\n\t\t},\r\n\t],\r\n};\r\n\r\nlet updateChart = new Chart(\"#chart-update\", {\r\n\tdata: updateData,\r\n\ttype: 'line',\r\n\theight: 300,\r\n\tcolors: ['#ff6c03'],\r\n\tlineOptions: {\r\n\t\t// hideLine: 1,\r\n\t\t// spline: 1,\r\n\t\t// regionFill: 1\r\n\t},\r\n});\r\n\r\nlet chartUpdateButtons = document.querySelector('.chart-update-buttons');\r\n\r\nchartUpdateButtons.querySelector('[data-update=\"random\"]').addEventListener(\"click\", () => {\r\n\tshuffle(updateDataAllIndices);\r\n\tlet value = getRandom();\r\n\tlet start = getRandom();\r\n\tlet end = getRandom();\r\n\tlet data = {\r\n\t\tlabels: updateDataAllLabels.slice(0, 10),\r\n\t\tdatasets: [{values: getUpdateData(updateDataAllValues)}],\r\n\t\tyMarkers: [\r\n\t\t\t{\r\n\t\t\t\tlabel: \"Altitude\",\r\n\t\t\t\tvalue: value,\r\n\t\t\t\ttype: 'dashed'\r\n\t\t\t}\r\n\t\t],\r\n\t\tyRegions: [\r\n\t\t\t{\r\n\t\t\t\tlabel: \"Range\",\r\n\t\t\t\tstart: start,\r\n\t\t\t\tend: end\r\n\t\t\t},\r\n\t\t],\r\n\t};\r\n\tupdateChart.update(data);\r\n});\r\n\r\nchartUpdateButtons.querySelector('[data-update=\"add\"]').addEventListener(\"click\", () => {\r\n\tlet index = updateChart.state.datasetLength; // last index to add\r\n\tif(index >= updateDataAllIndices.length) return;\r\n\tupdateChart.addDataPoint(\r\n\t\tupdateDataAllLabels[index], [updateDataAllValues[index]]\r\n\t);\r\n});\r\n\r\nchartUpdateButtons.querySelector('[data-update=\"remove\"]').addEventListener(\"click\", () => {\r\n\tupdateChart.removeDataPoint();\r\n});\r\nchartUpdateButtons.querySelector('[data-update=\"show-axis\"]').addEventListener(\"click\", () => {\r\n\tupdateChart.destroy();\r\n\tupdateChart = new Chart(\"#chart-update\", {\r\n\t\tdata: updateData,\r\n\t\ttype: 'line',\r\n\t\theight: 300,\r\n\t\tcolors: ['#ff6c03'],\r\n\t\taxisOptions: {\r\n\t\t\txAxis: {\r\n\t\t\t\t// lineHide: 1,\r\n\t\t\t\t// labelHide: 1,\r\n\t\t\t\tlineColor: '#8798f8',\r\n\t\t\t},\r\n\t\t\tyAxis: {\r\n\t\t\t\t// lineHide: 1,\r\n\t\t\t\t// labelHide: 1\r\n\t\t\t\tlineColor:\"#acffac\",\r\n\t\t\t}\r\n\t\t},\r\n\t\tfullscreen: 0, // default is 0\r\n\t});\r\n});\r\nchartUpdateButtons.querySelector('[data-update=\"hide-axis\"]').addEventListener(\"click\", () => {\r\n\tupdateChart.destroy();\r\n\tupdateChart = new Chart(\"#chart-update\", {\r\n\t\tdata: updateData,\r\n\t\ttype: 'line',\r\n\t\theight: 300,\r\n\t\tcolors: ['#ff6c03'],\r\n\t\taxisOptions: {\r\n\t\t\txAxis: {\r\n\t\t\t\tlineHide: 1,\r\n\t\t\t\tlabelHide: 1,\r\n\t\t\t\t// lineColor: '#ff6c03',\r\n\t\t\t},\r\n\t\t\tyAxis: {\r\n\t\t\t\tlineHide: 1,\r\n\t\t\t\tlabelHide: 1\r\n\t\t\t\t// lineColor:\"green\",\r\n\t\t\t}\r\n\t\t},\r\n\t\tfullscreen: 1, // default is 0\r\n\t});\r\n\r\n});\r\n\r\ndocument.querySelector('.export-update').addEventListener('click', () => {\r\n\tupdateChart.export();\r\n});\r\n\r\n// Trends Chart\r\n// ================================================================================\r\n\r\nlet plotChartArgs = {\r\n\ttitle: \"Mean Total Sunspot Count - Yearly\",\r\n\tdata: trendsData,\r\n\ttype: 'line',\r\n\theight: 300,\r\n\tcolors: ['#238e38'],\r\n\tlineOptions: {\r\n\t\thideDots: 1,\r\n\t\theatline: 1,\r\n\t},\r\n\taxisOptions: {\r\n\t\txAxisMode: 'tick',\r\n\t\tyAxisMode: 'span',\r\n\t\txIsSeries: 1\r\n\t}\r\n};\r\n\r\nlet trendsChart = new Chart(\"#chart-trends\", plotChartArgs);\r\n\r\nArray.prototype.slice.call(\r\n\tdocument.querySelectorAll('.chart-plot-buttons button')\r\n).map(el => {\r\n\tel.addEventListener('click', (e) => {\r\n\t\tlet btn = e.target;\r\n\t\tlet type = btn.getAttribute('data-type');\r\n\t\tlet config = {};\r\n\t\tconfig[type] = 1;\r\n\r\n\t\tif(['regionFill', 'heatline'].includes(type)) {\r\n\t\t\tconfig.hideDots = 1;\r\n\t\t}\r\n\r\n\t\t// plotChartArgs.init = false;\r\n\t\tplotChartArgs.lineOptions = config;\r\n\r\n\t\tnew Chart(\"#chart-trends\", plotChartArgs);\r\n\r\n\t\tArray.prototype.slice.call(\r\n\t\t\tbtn.parentNode.querySelectorAll('button')).map(el => {\r\n\t\t\tel.classList.remove('active');\r\n\t\t});\r\n\t\tbtn.classList.add('active');\r\n\t});\r\n});\r\n\r\ndocument.querySelector('.export-trends').addEventListener('click', () => {\r\n\ttrendsChart.export();\r\n});\r\n\r\n\r\n// Event chart\r\n// ================================================================================\r\n\r\n\r\n\r\nlet eventsData = {\r\n\tlabels: [\"Ganymede\", \"Callisto\", \"Io\", \"Europa\"],\r\n\tdatasets: [\r\n\t\t{\r\n\t\t\t\"values\": moonData.distances,\r\n\t\t\t\"formatted\": moonData.distances.map(d => d*1000 + \" km\")\r\n\t\t}\r\n\t]\r\n};\r\n\r\nlet eventsChart = new Chart(\"#chart-events\", {\r\n\ttitle: \"Jupiter's Moons: Semi-major Axis (1000 km)\",\r\n\tdata: eventsData,\r\n\ttype: 'bar',\r\n\theight: 330,\r\n\tcolors: ['grey'],\r\n\tisNavigable: 1,\r\n});\r\n\r\nlet dataDiv = document.querySelector('.chart-events-data');\r\n\r\neventsChart.parent.addEventListener('data-select', (e) => {\r\n\tlet name = moonData.names[e.index];\r\n\tdataDiv.querySelector('.moon-name').innerHTML = name;\r\n\tdataDiv.querySelector('.semi-major-axis').innerHTML = moonData.distances[e.index] * 1000;\r\n\tdataDiv.querySelector('.mass').innerHTML = moonData.masses[e.index];\r\n\tdataDiv.querySelector('.diameter').innerHTML = moonData.diameters[e.index];\r\n\tdataDiv.querySelector('img').src = \"./assets/img/\" + name.toLowerCase() + \".jpg\";\r\n});\r\n\r\n// Heatmap\r\n// ================================================================================\r\n\r\nlet today = new Date();\r\nlet start = clone(today);\r\naddDays(start, 4);\r\nlet end = clone(start);\r\nstart.setFullYear( start.getFullYear() - 2 );\r\nend.setFullYear( end.getFullYear() - 1 );\r\n\r\nlet dataPoints = {};\r\n\r\nlet startTs = timestampSec(start);\r\nlet endTs = timestampSec(end);\r\n\r\nstartTs = timestampToMidnight(startTs);\r\nendTs = timestampToMidnight(endTs, true);\r\n\r\nwhile (startTs < endTs) {\r\n\tdataPoints[parseInt(startTs)] = Math.floor(getRandomBias(0, 5, 0.2, 1));\r\n\tstartTs += SEC_IN_DAY;\r\n}\r\n\r\nconst heatmapData = {\r\n\tdataPoints: dataPoints,\r\n\tstart: start,\r\n\tend: end\r\n};\r\n\r\nlet heatmapArgs = {\r\n\ttitle: \"Monthly Distribution\",\r\n\tdata: heatmapData,\r\n\ttype: 'heatmap',\r\n\tdiscreteDomains: 1,\r\n\tcountLabel: 'Level',\r\n\tcolors: HEATMAP_COLORS_BLUE,\r\n\tlegendScale: [0, 1, 2, 4, 5]\r\n};\r\nlet heatmapChart = new Chart(\"#chart-heatmap\", heatmapArgs);\r\n\r\nArray.prototype.slice.call(\r\n\tdocument.querySelectorAll('.heatmap-mode-buttons button')\r\n).map(el => {\r\n\tel.addEventListener('click', (e) => {\r\n\t\tlet btn = e.target;\r\n\t\tlet mode = btn.getAttribute('data-mode');\r\n\t\tlet discreteDomains = 0;\r\n\r\n\t\tif(mode === 'discrete') {\r\n\t\t\tdiscreteDomains = 1;\r\n\t\t}\r\n\r\n\t\tlet colors = [];\r\n\t\tlet colors_mode = document\r\n\t\t\t.querySelector('.heatmap-color-buttons .active')\r\n\t\t\t.getAttribute('data-color');\r\n\t\tif(colors_mode === 'halloween') {\r\n\t\t\tcolors = HEATMAP_COLORS_YELLOW;\r\n\t\t} else if (colors_mode === 'blue') {\r\n\t\t\tcolors = HEATMAP_COLORS_BLUE;\r\n\t\t}\r\n\r\n\t\theatmapArgs.discreteDomains = discreteDomains;\r\n\t\theatmapArgs.colors = colors;\r\n\t\tnew Chart(\"#chart-heatmap\", heatmapArgs);\r\n\r\n\t\tArray.prototype.slice.call(\r\n\t\t\tbtn.parentNode.querySelectorAll('button')).map(el => {\r\n\t\t\tel.classList.remove('active');\r\n\t\t});\r\n\t\tbtn.classList.add('active');\r\n\t});\r\n});\r\n\r\nArray.prototype.slice.call(\r\n\tdocument.querySelectorAll('.heatmap-color-buttons button')\r\n).map(el => {\r\n\tel.addEventListener('click', (e) => {\r\n\t\tlet btn = e.target;\r\n\t\tlet colors_mode = btn.getAttribute('data-color');\r\n\t\tlet colors = [];\r\n\r\n\t\tif(colors_mode === 'halloween') {\r\n\t\t\tcolors = HEATMAP_COLORS_YELLOW;\r\n\t\t} else if (colors_mode === 'blue') {\r\n\t\t\tcolors = HEATMAP_COLORS_BLUE;\r\n\t\t}\r\n\r\n\t\tlet discreteDomains = 1;\r\n\r\n\t\tlet view_mode = document\r\n\t\t\t.querySelector('.heatmap-mode-buttons .active')\r\n\t\t\t.getAttribute('data-mode');\r\n\t\tif(view_mode === 'continuous') {\r\n\t\t\tdiscreteDomains = 0;\r\n\t\t}\r\n\r\n\t\theatmapArgs.discreteDomains = discreteDomains;\r\n\t\theatmapArgs.colors = colors;\r\n\t\tnew Chart(\"#chart-heatmap\", heatmapArgs);\r\n\r\n\t\tArray.prototype.slice.call(\r\n\t\t\tbtn.parentNode.querySelectorAll('button')).map(el => {\r\n\t\t\tel.classList.remove('active');\r\n\t\t});\r\n\t\tbtn.classList.add('active');\r\n\t});\r\n});\r\n\r\ndocument.querySelector('.export-heatmap').addEventListener('click', () => {\r\n\theatmapChart.export();\r\n});\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["HEATMAP_COLORS_BLUE","HEATMAP_COLORS_YELLOW","shuffle","array","i","length","j","Math","floor","random","getRandomBias","min","max","bias","influence","range","biasValue","rnd","mix","NO_OF_MILLIS","SEC_IN_DAY","MONTH_NAMES_SHORT","clone","date","Date","getTime","timestampSec","timestampToMidnight","timestamp","roundAhead","midnightTs","addDays","numberOfDays","setDate","getDate","reportCountList","lineCompositeData","labelPos","fireball_5_25","fireball_2_5","fireballOver25","barCompositeData","typeData","trendsData","moonData","d","toUpperCase","Chart","frappe","lc","demoConfig","lineComposite","lineCompositeChart","elementID","options","bc","barComposite","barCompositeChart","parent","addEventListener","e","index","updateDatasets","customColors","typeChartArgs","aggrChart","Array","prototype","slice","call","document","querySelectorAll","map","btn","target","type","getAttribute","colors","undefined","height","newChart","parentNode","classList","remove","add","querySelector","export","updateDataAllLabels","getRandom","updateDataAllValues","from","updateDataAllIndices","getUpdateData","source_array","indices","updateData","updateChart","chartUpdateButtons","value","start","end","data","values","update","state","datasetLength","addDataPoint","removeDataPoint","destroy","plotChartArgs","trendsChart","config","includes","hideDots","lineOptions","eventsData","distances","eventsChart","dataDiv","name","names","innerHTML","masses","diameters","src","toLowerCase","today","setFullYear","getFullYear","dataPoints","startTs","endTs","parseInt","heatmapData","heatmapArgs","heatmapChart","mode","discreteDomains","colors_mode","view_mode"],"mappings":"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"}